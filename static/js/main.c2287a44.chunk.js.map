{"version":3,"sources":["context/logger.js","components/header/header.js","components/footer/footer.js","context/display.js","components/form/form.js","app.js","index.js"],"names":["LoggerContext","React","createContext","LoggerProvider","props","useState","logState","setLogState","user","setUser","validateToken","token","userName","jwt","verify","cookie","save","console","error","useEffect","cookieToken","load","URLSearchParams","window","location","search","get","keys","logIn","password","log","fetch","method","mode","cache","headers","Headers","btoa","then","res","text","catch","logOut","Provider","value","children","Header","useLogger","useContext","authBlock","onClick","onSubmit","e","preventDefault","target","name","reset","type","Footer","DisplayContext","DisplayProvider","viewNumber","setViewNumber","inPage","setInPage","next","setNext","limit","setLimit","changePre","add","changeNext","changeViewNumber","changeFun","data","increaseSize","decreaseSize","Form","noteBook","setNote","useDisplay","id","Object","length","toString","document","title","preButton","nextButton","note","status","diff","difficulty","newNote","assign","map","val","idx","key","changeState","className","deleteHandler","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c2287a44.chunk.js","sourcesContent":["import React, {useState , useEffect} from 'react';\nimport cookie from 'react-cookies' ;\nimport jwt from 'jsonwebtoken';\n\nexport const LoggerContext = React.createContext() ;\n\nconst API = 'http://localhost:3333';\nconst SECRET = 'Shushhhhh' ;\n\n\n\n \n\nfunction LoggerProvider(props){\n\n  const [logState , setLogState] = useState(false);\n  const [user , setUser] = useState({});\n\n  \n  const validateToken = (token , userName)=>{\n    try{\n      let user = jwt.verify(token, SECRET);\n      cookie.save('auth', token);\n      setLogState(user);\n      setUser(userName);\n    }catch{\n      setLogState(false);\n      console.error('token Invalid!!!');\n    }\n  };\n  \n\n  const logIn = (userName , password) => {\n\n    console.log('in logIn' , userName , password);\n    fetch(`${API}/signin`,{\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: new Headers({\n        'Authorization': `Basic ${btoa(`${userName}:${password}`)}`,\n      }),\n    })\n      .then(res => res.text())\n      .then(token => validateToken(token , userName))\n      .catch(console.error);\n  };\n\n\n  const logOut = ()=>{\n    setLogState(false);\n    setUser({});\n    cookie.save('auth', null);\n  };\n\n\n  // to stay login after refresh \n  useEffect(()=>{\n    const cookieToken = cookie.load('auth');\n    const qs = new URLSearchParams(window.location.search);\n    const token = qs.get('token') || cookieToken || null ;\n    validateToken(token);\n  },[]);\n\n  const keys = {logState , logIn , logOut ,user};\n\n\n  return(\n    <LoggerContext.Provider value = {keys}>\n      {props.children}\n    </LoggerContext.Provider>\n  );\n\n}\n\nexport default LoggerProvider ;","/* eslint-disable no-unused-vars */\nimport React, { useContext } from 'react';\nimport { LoggerContext } from '../../context/logger.js';\n\nconst Header = () => {\n  const useLogger = useContext(LoggerContext);\n  console.log('aha', useLogger);\n\n  const loggerHandler = (e) => {\n    e.preventDefault();\n    useLogger.logIn(e.target.name.value , e.target.password.value);\n    e.target.reset();\n  };\n\n\n\n  let authBlock ;\n  if(useLogger.logState){\n    authBlock = <button onClick={useLogger.logOut} >Log Out!</button>;\n    \n  }else{\n    authBlock = <form onSubmit={loggerHandler}>\n      <label>\n        UserName: <input name='name' />\n      </label>\n      <label>\n        Password: <input type='password' name='password' />\n      </label>\n      <button type='submit' > LogIn </button>\n    </form>;\n  }\n\n\n  return(\n    <> \n\n      <h1> Death Note !</h1>\n      {authBlock}\n\n\n    </>\n  );\n};\n\n\nexport default Header ;","/* eslint-disable no-unused-vars */\nimport React from 'react' ;\n\nconst Footer = () => {\n  return (\n    <footer>\n      <p>DanTe!! Peace Out !!</p>\n    </footer>\n  );\n};\n\n\nexport default Footer ;\n  ","/* eslint-disable no-unused-vars */\nimport React,{useState} from 'react';\nexport const DisplayContext = React.createContext() ;\n\nfunction DisplayProvider(props){\n\n  const [viewNumber , setViewNumber] = useState(0);\n  const [inPage, setInPage] = useState(1);\n  const [next , setNext] = useState(0);\n  const [limit , setLimit] = useState(1);\n\n  const changeFun = (data)=>{\n    setViewNumber(data);\n  };\n\n  const increaseSize = () => {\n    let add = inPage +1 ;\n    setInPage(add);\n    setLimit(add);\n  };\n\n  const decreaseSize = () => {\n    if(inPage > 1){\n      let add = inPage -1 ;\n      setInPage(add);\n      setLimit(add);\n\n    }\n  };\n\n\n  const changeNext= ()=>{\n    let add = limit;\n    setNext(add);\n    add = limit + inPage;\n    setLimit(add);\n  };\n\n  const changePre = ()=> {\n    let add = next - inPage;\n    setNext(add);\n    add = limit - inPage;\n    setLimit(add);\n  };\n\n\n\n\n  const keys = {changePre,limit,changeNext, next ,viewNumber ,changeViewNumber:setViewNumber , changeFun , increaseSize , decreaseSize , inPage};\n\n\n  return(\n    <DisplayContext.Provider value = {keys}>\n      {props.children}\n    </DisplayContext.Provider>\n  );\n\n}\n\nexport default DisplayProvider ;\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport {useState , useEffect, useContext} from 'react';\nimport {DisplayContext} from '../../context/display.js';\nimport { LoggerContext } from '../../context/logger.js';\n\n\n\nconst Form = () => {\n\n  const [noteBook , setNote] = useState({});\n  const useDisplay = useContext(DisplayContext);\n  const useLogger = useContext(LoggerContext);\n\n  let testFun = (e) => {\n    e.preventDefault();    \n    let name = e.target.name.value;\n    let note = e.target.note.value;\n    let status = e.target.status.value;\n    let diff = e.target.difficulty.value;\n    let id = Object.keys(noteBook).length.toString();\n    \n    let newNote = Object.assign({},noteBook);\n    newNote[id] = {'id':id, 'name' : name , 'note': note , 'status':status , 'diff': diff};\n    \n    setNote(newNote);\n    e.target.reset();    \n  };\n\n  // console.log('context' , useDisplay);\n\n  \n  \n  useEffect(()=>{\n    let id = Object.keys(noteBook).length.toString() ;\n    \n    if(id > 0){\n      document.title = `${id} Todo left`;\n    }\n    useDisplay.changeFun(Object.keys(noteBook).length);\n\n  });\n  \n  let changeState = (id) =>{\n    id = id.toString();\n    let newNote = Object.assign({},noteBook);\n    if(newNote[id].status === 'complete'){\n      newNote[id].status = 'incomplete';\n    }else{\n      newNote[id].status = 'complete';\n    }\n    setNote(newNote);\n  };\n\n\n  let deleteHandler = (id) => {\n\n    id = id.toString();\n    let newNote = Object.assign({},noteBook);\n    delete newNote[id];\n    \n    setNote(newNote);\n  };\n\n  let preButton ;\n  if(useDisplay.next >= 1){\n    preButton =  <button onClick= {useDisplay.changePre}> Previous Page </button> ;\n  }\n  let nextButton ;\n  if(Object.keys(noteBook).length > useDisplay.inPage && Object.keys(noteBook).length !== useDisplay.limit){\n    nextButton =  <button onClick={useDisplay.changeNext}> Next Page </button> ;\n  }\n\n\n  if(useLogger.logState){\n\n  \n    return(\n      <>\n        {/* {console.log('test')} */}\n        <div>\n\n          <h2> Total: {useDisplay.viewNumber} -=- Show Per Page {useDisplay.inPage} </h2>\n          <button onClick={useDisplay.increaseSize}>+</button>\n          <button onClick={useDisplay.decreaseSize}>-</button> \n\n          {/* <DisplayContext.Consumer>\n          {\n            DisplayContext => (\n              // DisplayContext.changeViewNumber(Object.keys(noteBook).length)\n              <h1> {DisplayContext.viewNumber} </h1>\n            )\n          }\n        </DisplayContext.Consumer> */}\n\n\n\n          <form onSubmit = {testFun}>\n\n            <label>\n        Name : \n              <input name=\"name\" />\n            </label>\n\n            <br/>\n\n            <label>\n        Note :\n              <textarea name=\"note\"  />\n            </label>\n\n            <br/>\n\n            <label>complete\n              <input type=\"radio\" name=\"status\" value=\"complete\" />\n            </label>\n            <label>Incomplete\n              <input type=\"radio\" name=\"status\" value=\"Incomplete\" />\n            </label>\n\n            <br/>\n\n            <label>difficulty:\n              <select name= \"difficulty\">\n                <option value =\"1\">1</option>\n                <option value =\"2\">2</option>\n                <option value =\"3\">3</option>\n                <option value =\"4\">4</option>\n                <option value =\"5\">5</option>\n              </select>\n            </label>\n\n            <br/>\n            <button type=\"submit\" id=\"sub\">Submit</button>\n\n          </form>\n        </div>\n\n        <br/>\n\n        <div>\n          <h2>ToDo List:</h2>\n          {preButton}{nextButton}\n\n          <ul>\n            { \n              Object.keys(noteBook).map((val, idx) => {\n                if( idx >= useDisplay.next && idx < useDisplay.limit){\n\n                  return<fieldset key={noteBook[val].id}> <legend>Name: {noteBook[val].name}</legend>\n                    <p> ToDo: {noteBook[val].note} </p>\n                    <li onClick={()=> changeState(idx)} className={noteBook[val].status} > Status: {noteBook[val].status} </li>\n                    <li> Difficulty: {noteBook[val].diff} </li>\n                    <button onClick={()=> deleteHandler(noteBook[val].id)} >DeleTe!</button>\n                \n                  </fieldset>;\n                }\n              })}\n\n\n\n          </ul>\n        </div>\n\n      </>\n\n    );\n\n  }else{\n    return null;\n  }\n\n};\n\n\nexport default Form ;\n","/* eslint-disable no-unused-vars */\n// dependencies \nimport React from 'react';\n\n// components \nimport Header from './components/header/header.js';\nimport Footer from './components/footer/footer.js';\nimport Form from './components/form/form.js';\n\n// Context \nimport Display from './context/display.js';\nimport Logger from './context/logger.js';\n\n//style\nimport './app.scss';\n\n\n\nconst App = ()=>{\n\n\n  return(\n    <>\n      <Logger>\n        <Display>\n\n          <Header />\n          <Form />\n          <Footer />\n          \n        </Display>\n      </Logger>\n    </>\n  );\n};\n\nexport default App ;\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport './index.css';\n\nfunction Main() {\n\n  return(\n\n    <>\n      <App />\n    </>\n\n  );\n  \n}\n\n\n// ====> method to ===> destination //\nReactDOM.render(<Main />, document.getElementById('root'));\n\n"],"sourceRoot":""}